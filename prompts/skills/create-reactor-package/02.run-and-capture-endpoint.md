# CRP.02 Run the project and capture Vetra MCP endpoint

## CRP.02.1 Start the project

- Use `mcp__reactor_prjmgr__run_project` with the project name from step 01
- The project will start running `ph vetra --watch` in the background
- Wait for the command to be accepted

## CRP.02.2 Wait for project to be ready

- Use `mcp__reactor_prjmgr__is_project_ready` repeatedly to check if the project is ready
- Poll every 2-3 seconds for up to 90 seconds
- The project is ready when Vetra Connect and Switchboard are both running

## CRP.02.3 Get project status and logs

- Once ready, use `mcp__reactor_prjmgr__get_project_status` to get the current status
- Use `mcp__reactor_prjmgr__get_project_logs` to capture the startup logs
- Extract the Vetra MCP endpoint URL from the logs (typically starts with `http://localhost:` followed by a port number)

## CRP.02.4 Parse and verify endpoints

From the logs, identify:
 - Vetra Connect port
 - Switchboard port
 - MCP endpoint URL

Once project is running, a new suite of MCP tools, 'mcp__active-project-vetra__*', will automatically become
available to you. Remember to use it later to create specification documents for document models, document 
editors, drive apps, and GraphQL subgraphs.

Test the 'mcp__active-project-vetra__*' MCP tools now by getting the available drives in the new Vetra instance. 
Notice there is a vetra drive` for the specification documents and a preview drive for testing out the document
models you will yourself create.

## CRP.02.5 Return running status with endpoints

Return a JSON object with the running project details:
```json
{
  "step": "run-project",
  "status": "success",
  "project_name": "<project-name>",
  "project_running": true,
  "vetra_connect_port": <port>,
  "switchboard_port": <port>,
  "mcp_endpoint": "<url>",
  "startup_time_seconds": <number>,
  "discovered_drives": {
    "vetra-drive-id": "<id>",
    "preview-drive-id": "<id>",
  }
}
```

If the project fails to start or become ready:
```json
{
  "step": "run-project",
  "status": "error",
  "project_name": "<project-name>",
  "error": "<error-message>",
  "logs": "<log-excerpt>"
}
```