# ED.01 Write the editor implementation

For this scenario, you will write TypeScript code in the active Reactor Package project directory that you can find through `reactor_pkgmgr` MCP tool.
    - Use the `reactor_pkgmgr` MCP tool to (re)start Vetra Studio and Switchboard if needed.
    - Use the `reactor_pkgmgr` MCP tool to inspect the logs
    
Read the `AGENTS.md` in the project directory for best practices

Use the `active-project-vetra` MCP tool 
    - to access the Vetra drive and inspect the document model specification document
    - to access the preview drive and create test documents when appropriate

Do not run the `ph vetra` or `ph generate` commands for anything, instead use the `reactor_pkgmgr` MCP tool

Code is regenerated automatically by Vetra.
    - Review bugs and errors in the GraphQL types if the code generator is stuck
    - Review and update the document model specification in the Vetra drive to fix type errors in the generated code
    - Consider restarting the project (/ the Vetra service) through the `reactor_pkgmgr` tool if needed

## ED.01.1 Verify the code generation was triggered and editor boilerplate code was created

- Verify the editor boilerplate was created in ./editors/<editor-name>
- Check if the boilerplate code is still present and move it to a separate component
    - You can recognize the boilerplate by the usage of the <DocumentStateViewer> component
    - If it's still in the main editor.tsx file, move it to its own file as an example
    - If it's no longer present, it may have been deleted previously

- Verify `pnpm test` is showing no issues
- Verify `pnpm build` is running without issues

## ED.01.2 Implement the document editor

- Review any existing document editor code and verify if every document model action
  can be dispatched by the user through the UI, and all (global) state information is available.

- If actions are missing or state information is not shown, consider how to expose them in the UI

- Generate the editor code, or adjust the existing code, to cover all missing actions

## ED.01.3 Set up user acceptance test

- Access the Preview Drive through `active-project-vetra` and look if any test documents 
  already exist

- If there few or no test documents available, create a number of new test documents for the 
  document model you're working on

    - Remember: When creating _any_ document in a drive, including this, NEVER set the document ID manually. They're auto-generated by 'createDocument'

    - Consider adding a small, medium and large example document

    - If the document model has a workflow with multiple statuses, create documents, or 
      objects within a document, with various statuses


## ED.01.4 Stakholder communication

Send the stakeholder a message to ask them to participate in the user acceptance test
  - Share the Vetra Studio URL with them 
  - Explain that they can find the document model and editor specification in Vetra Drive
  - Explain that they can do user acceptance testing in the Preview Drive